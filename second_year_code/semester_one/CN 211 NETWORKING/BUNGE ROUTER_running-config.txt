enable
conf t
hostname BUNGE-ROUTER

! ----------------------------
! LAN to Switch (Wired users)
! ----------------------------
interface GigabitEthernet0/0
 description LAN to Switch
 ip address 192.168.4.1 255.255.255.0
 ip nat inside
 no shutdown
exit

! ----------------------------
! WAN to Cloud
! ----------------------------
interface GigabitEthernet0/1
 description WAN to Cloud/ISP
 ip address 200.0.0.3 255.255.255.0
 ip nat outside
 no shutdown
exit

! ----------------------------
! Server Subnet (direct on G0/2)
! ----------------------------
interface GigabitEthernet0/2
 description BUNGE Server Network
 ip address 192.168.5.1 255.255.255.0
 ip nat inside
 no shutdown
exit

! ----------------------------
! Built-in switchports for AP/Wireless (UDOM style)
! AP plugs into Fa0/0/0 (or any Fa port)
! ----------------------------
interface range FastEthernet0/0/0 - 3
 switchport mode access
 switchport access vlan 1
 no shutdown
exit

interface Vlan1
 description AP/Wireless Network SVI
 ip address 192.168.6.1 255.255.255.0
 ip nat inside
 no shutdown
exit

! ----------------------------
! DHCP Exclusions
! ----------------------------
ip dhcp excluded-address 192.168.4.1 192.168.4.20
ip dhcp excluded-address 192.168.5.1 192.168.5.20
ip dhcp excluded-address 192.168.5.2 192.168.5.2
ip dhcp excluded-address 192.168.6.1 192.168.6.20

! ----------------------------
! DHCP Pools (match each subnet)
! ----------------------------
ip dhcp pool BUNGE_LAN_USERS
 network 192.168.4.0 255.255.255.0
 default-router 192.168.4.1
 dns-server 192.168.5.2
exit

ip dhcp pool BUNGE_SERVER_NET
 network 192.168.5.0 255.255.255.0
 default-router 192.168.5.1
 dns-server 192.168.5.2
exit

ip dhcp pool BUNGE_WIFI
 network 192.168.6.0 255.255.255.0
 default-router 192.168.6.1
 dns-server 192.168.5.2
exit

! ----------------------------
! NAT Overload for all inside networks
! ----------------------------
access-list 1 permit 192.168.4.0 0.0.0.255
access-list 1 permit 192.168.5.0 0.0.0.255
access-list 1 permit 192.168.6.0 0.0.0.255
ip nat inside source list 1 interface GigabitEthernet0/1 overload

! ----------------------------
! Static NAT: publish BUNGE web server
! ----------------------------
ip nat inside source static tcp 192.168.5.2 80 200.0.0.3 80

! ----------------------------
! Default route to ISP
! ----------------------------
ip route 0.0.0.0 0.0.0.0 200.0.0.1

end
wr

